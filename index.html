<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>卡密领取系统</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; background: #f9f9f9; }
    h2 { color: #333; }
    form { margin-bottom: 20px; }
    label { display: inline-block; width: 60px; }
    input { margin: 5px 0; padding: 5px; }
    button { margin-top: 10px; padding: 6px 12px; cursor: pointer; }
    #result { margin-top: 20px; font-weight: bold; }
  </style>
</head>
<body>
  <h2>卡密领取系统</h2>
  <form id="claimForm">
    <div>
      <label>学号:</label>
      <input type="text" id="studentId" required>
    </div>
    <div>
      <label>姓名:</label>
      <input type="text" id="studentName" required>
    </div>
    <button type="submit">领取卡密</button>
  </form>
  <div id="result"></div>

  <script>
    const staticData = [
       {
    id: '2024040634',
    name: '王伟',
    card: '60881497771323821354',
    claimed: false
  },
  {
    id: '2024070410',
    name: '郝梓彤',
    card: '56204626981926708414',
    claimed: false
  },
  {
    id: '2024070801',
    name: '曹旭东',
    card: '02591491382049021792',
    claimed: false
  },
  {
    id: '2024070802',
    name: '陈星宇',
    card: '25353259905010044946',
    claimed: false
  },
  {
    id: '2024070803',
    name: '陈艺文',
    card: '38640021320457129369',
    claimed: false
  },
  {
    id: '2024070804',
    name: '邓雯',
    card: '61302120923253030528',
    claimed: false
  },
  {
    id: '2024070805',
    name: '杜仕朝',
    card: '46591127810451344953',
    claimed: false
  },
  {
    id: '2024070806',
    name: '段慧艳',
    card: '14172461401549239148',
    claimed: false
  },
  {
    id: '2024070807',
    name: '郭东旭',
    card: '57014074566152308951',
    claimed: false
  },
  {
    id: '2024070808',
    name: '郭淮瑾',
    card: '25033386843930246997',
    claimed: false
  },
  {
    id: '2024070809',
    name: '郭伟淇',
    card: '59336074162143565397',
    claimed: false
  },
  {
    id: '2024070810',
    name: '杭梦婷',
    card: '04808479053805709739',
    claimed: false
  },
  {
    id: '2024070811',
    name: '胡思琦',
    card: '13498372880026203249',
    claimed: false
  },
  {
    id: '2024070812',
    name: '胡栩悦',
    card: '07505379050795341881',
    claimed: false
  },
  {
    id: '2024070813',
    name: '黄俊奇',
    card: '31758365560954605108',
    claimed: false
  },
  {
    id: '2024070814',
    name: '黄心艺',
    card: '61144287503434562786',
    claimed: false
  },
  {
    id: '2024070815',
    name: '黄桢茹',
    card: '33671015510473600345',
    claimed: false
  },
  {
    id: '2024070816',
    name: '姬生伟',
    card: '42205494962516817496',
    claimed: false
  },
  {
    id: '2024070817',
    name: '姜梓淳',
    card: '12116171071441963292',
    claimed: false
  },
  {
    id: '2024070819',
    name: '李洪超',
    card: '40106193595839126871',
    claimed: false
  },
  {
    id: '2024070820',
    name: '李俊锦',
    card: '34500031695135944545',
    claimed: false
  },
  {
    id: '2024070821',
    name: '李宇宏',
    card: '38071465875075448482',
    claimed: false
  },
  {
    id: '2024070822',
    name: '廖凤怡',
    card: '22583146992518413168',
    claimed: false
  },
  {
    id: '2024070823',
    name: '刘敏',
    card: '24253104803758360108',
    claimed: false
  },
  {
    id: '2024070824',
    name: '罗静',
    card: '21565451954834565226',
    claimed: false
  },
  {
    id: '2024070825',
    name: '骆恩金',
    card: '60999604472136910801',
    claimed: false
  },
  {
    id: '2024070826',
    name: '毛鑫睿',
    card: '22470186531820959218',
    claimed: false
  },
  {
    id: '2024070827',
    name: '明余',
    card: '62477087811272243653',
    claimed: false
  },
  {
    id: '2024070828',
    name: '欧祥林',
    card: '29768444354591139892',
    claimed: false
  },
  {
    id: '2024070829',
    name: '彭诗茜',
    card: '38041644003764135156',
    claimed: false
  },
  {
    id: '2024070830',
    name: '阮翔',
    card: '07762011173337404475',
    claimed: false
  },
  {
    id: '2024070831',
    name: '斯泾琳',
    card: '20321166993722648217',
    claimed: false
  },
  {
    id: '2024070832',
    name: '汤雨菲',
    card: '22742300531278412321',
    claimed: false
  },
  {
    id: '2024070833',
    name: '唐金',
    card: '03563639500005741027',
    claimed: false
  },
  {
    id: '2024070834',
    name: '唐雪',
    card: '56679455494882501293',
    claimed: false
  },
  {
    id: '2024070835',
    name: '土比子聪',
    card: '31588309153816811368',
    claimed: false
  },
  {
    id: '2024070836',
    name: '王泓又',
    card: '64510037685002146788',
    claimed: false
  },
  {
    id: '2024070837',
    name: '王稷',
    card: '11055195223059100162',
    claimed: false
  },
  {
    id: '2024070838',
    name: '王佳帅',
    card: '52862304374439900373',
    claimed: false
  },
  {
    id: '2024070839',
    name: '王青松',
    card: '41170154611082739813',
    claimed: false
  },
  {
    id: '2024070840',
    name: '王一帆',
    card: '24418142423458744585',
    claimed: false
  },
  {
    id: '2024070841',
    name: '吴雨桐',
    card: '25284576391524007480',
    claimed: false
  },
  {
    id: '2024070842',
    name: '伍文佳',
    card: '44790384816334837489',
    claimed: false
  },
  {
    id: '2024070843',
    name: '谢爱源',
    card: '24391201723638334480',
    claimed: false
  },
  {
    id: '2024070844',
    name: '辛书睿',
    card: '18060306223301632736',
    claimed: false
  },
  {
    id: '2024070845',
    name: '许祯毅',
    card: '23229353912582313564',
    claimed: false
  },
  {
    id: '2024070846',
    name: '闫翼扬',
    card: '31057456661237644361',
    claimed: false
  },
  {
    id: '2024070847',
    name: '杨凤',
    card: '03042481060247821246',
    claimed: false
  },
  {
    id: '2024070848',
    name: '杨皓童',
    card: '60528515741675804317',
    claimed: false
  },
  {
    id: '2024070849',
    name: '杨梦杰',
    card: '43574173493687954694',
    claimed: false
  },
  {
    id: '2024070850',
    name: '杨雨欣',
    card: '28129388033947900007',
    claimed: false
  },
  {
    id: '2024070851',
    name: '杨耘溥',
    card: '32129005235738031014',
    claimed: false
  },
  {
    id: '2024070852',
    name: '叶代顺',
    card: '22281623613302742991',
    claimed: false
  },
  {
    id: '2024070853',
    name: '袁瑞祺',
    card: '41047071412612515888',
    claimed: false
  },
  {
    id: '2024070854',
    name: '曾思婕',
    card: '64245600093631208406',
    claimed: false
  },
  {
    id: '2024070855',
    name: '张城荣',
    card: '55228228314157160378',
    claimed: false
  },
  {
    id: '2024070856',
    name: '张俐',
    card: '24113289054498312534',
    claimed: false
  },
  {
    id: '2024070857',
    name: '张嘹',
    card: '62582384152031852907',
    claimed: false
  },
  {
    id: '2024070858',
    name: '张元馨',
    card: '19356606591916545505',
    claimed: false
  },
  {
    id: '2024070859',
    name: '赵宇瀚',
    card: '08152629851656405336',
    claimed: false
  },
  {
    id: '2024070860',
    name: '郑红梅',
    card: '00447153475626520330',
    claimed: false
  },
  {
    id: '2024070861',
    name: '周紫慕',
    card: '54852080830789713725',
    claimed: false
  },
  {
    id: '2024080631',
    name: '徐尉涛',
    card: '11538355464682302237',
    claimed: false
  },
  {
    id: '2024120416',
    name: '景琦',
    card: '64320244422629725581',
    claimed: false
  },
  {
    id: '2024180605',
    name: '何佳潞',
    card: '36660402382114064946',
    claimed: false
  },
  {
    id: '2024180726',
    name: '覃湘',
    card: '00748203161755856341',
    claimed: false
  }
    ];

    // 从 localStorage 恢复领取状态
    const savedState = JSON.parse(localStorage.getItem('claimedState') || '{}');
    staticData.forEach(row => {
      if (savedState[row.id]) row.claimed = true;
    });

    document.getElementById('claimForm').addEventListener('submit', function(e){
      e.preventDefault();
      const id = document.getElementById('studentId').value.trim();
      const name = document.getElementById('studentName').value.trim();
      const resultDiv = document.getElementById('result');

      const row = staticData.find(r => r.id === id && r.name === name);
      if(!row){
        resultDiv.textContent = '未找到匹配的学号和姓名！';
        resultDiv.style.color = 'red';
        return;
      }

      if(row.claimed){
        resultDiv.textContent = '该卡密已被领取。';
        resultDiv.style.color = 'orange';
      } else {
        row.claimed = true;
        savedState[row.id] = true;
        localStorage.setItem('claimedState', JSON.stringify(savedState));
        resultDiv.textContent = '领取成功！卡密为：' + row.card;
        resultDiv.style.color = 'green';
      }
    });
  </script>
</body>
</html>
